# swagger-gateway - Dev Environment
# Infrastructure-only: ManagedCertificate + BackendConfig for IAP
# NO pods/deployments - services define their own HTTPRoutes to swagger.dev.ourritual.com

# âš ï¸ IMPORTANT: This is infrastructure-only, no application deployment
# Disable all pod/deployment/service resources
replicaCount: 0

# ğŸ« Managed Certificate - ENABLED
managedCertificate:
  enabled: true
  domains:
    - swagger.dev.ourritual.com

# ğŸ”’ Backend Config for IAP - ENABLED
backendConfig:
  enabled: true
  iap:
    enabled: true
    oauthSecretName: swagger-iap-oauth
  healthCheck:
    checkIntervalSec: 30
    timeoutSec: 5
    healthyThreshold: 2
    unhealthyThreshold: 3
    type: HTTP
    requestPath: /health
    port: 8080
  sessionAffinity:
    affinityType: CLIENT_IP
    affinityCookieTtlSec: 3600
  timeoutSec: 30

# All other resources DISABLED (no pods/services needed)
deployment:
  enabled: false

service:
  enabled: false

ingress:
  enabled: false

gateway:
  enabled: false

externalSecrets:
  enabled: false

autoscaling:
  enabled: false

# ğŸ“ Annotations
annotations:
  description: "Infrastructure-only: Certificate and IAP config for swagger.dev.ourritual.com"

# ğŸ·ï¸ Labels  
labels:
  app: swagger-gateway
  tier: infrastructure
  component: api-docs-infra

# Note: Individual services (webhook-gateway-service, insights-engine, etc.) will:
# 1. Define HTTPRoutes pointing to swagger.dev.ourritual.com/<service-name>
# 2. Use this BackendConfig for IAP protection
# 3. Backend traffic routes to their own service endpoints
